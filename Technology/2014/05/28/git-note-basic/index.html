<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="cn"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Git 笔记 - 基础篇  - lzteng</title>
  <meta name="author" content="ZwEin">

  
  <meta name="description" content=" Git 版本控制系统的学习笔记, 基础篇 ">
  
    <meta name="keywords" content="Note, Pro Git">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- sina open platform -->
  <meta property="wb:webmaster" content="df940a3dbf57e160" />
  <html xmlns:wb="http://open.weibo.com/wb">

  <!-- baidu -->
  <meta name="baidu-site-verification" content="mqpzxukah8" />


  
  <link rel="canonical" href="http://lzteng.com/Technology/2014/05/28/git-note-basic">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="lzteng" type="application/atom+xml">

  <link href="/javascripts/libs/bootstrap-3.0.3/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/javascripts/libs/bootstrap-3.0.3/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">



<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

<!-- custom -->
<link href="/fonts/fonts.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/custom.css" rel="stylesheet" type="text/css">
<!-- <link href="/javascripts/libs/prettify/prettify.css" rel="stylesheet" type="text/css" media="all"> --><link href="/javascripts/libs/prettify/desert.css" rel="stylesheet" type="text/css" media="all">
<!-- <link rel="stylesheet" href="/javascripts/libs/highlight/styles/monokai_sublime.css"> -->
<!-- add font-awesome -->
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">


<!-- wunii -->
<meta name="wumiiVerification" content="11f148a3-3375-42a6-bcf9-f1658ee6036a" />



  

  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  <script src="/javascripts/custom.js"></script>
  


  <script type="text/javascript">
        $(document).ready(function () {
         jQuery("#topbarloading").animate({ /* NavBar 顶部载入条 */
                width: "100%"
            },
            {
                queue: false,
                duration: 5000
            });
          
        })
  </script>
  
  

</head>

  <body   >

    <!--[if lt IE 9]>
     <script type="text/javascript">

      var browser=navigator.appName;
      var b_version=navigator.appVersion;
      var version=parseFloat(b_version);
    
      document.getElementById('browser-warning').style.display='block';
      
        alert("为保证浏览效果，建议使用Firefox或者Chrome等非IE内核的浏览器！");
      
  </script>
  <![endif]-->



<a name="gotop"></a><!-- 回到顶部 -->

    <div id="wrap">
      <header role="banner">
        
<nav class="navbar navbar-inverse navbar-static-top" role="navigation">

    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">lzteng</a>
        </div>

        <div  class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="/blog">Blog</a></li>
                <li><a href="/blog/archives">Archive</a></li>
                <li><a href="/blog/categories">Categories</a></li>
                <li><a href="/blog/tags">Tags</a></li>
                <li><a href="/blog/about">About</a></li>

               


                <!-- <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
                  <ul class="dropdown-menu">
                    <li><a href="#">Action</a></li>
                    <li><a href="#">Another action</a></li>
                    <li><a href="#">Something else here</a></li>
                    <li class="divider"></li>
                    <li class="dropdown-header">Nav header</li>
                    <li><a href="#">Separated link</a></li>
                    <li><a href="#">One more separated link</a></li>
                  </ul>
                </li> -->
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:lzteng.com">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>


    <div id="topbarloading"></div>
    
</nav>





      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
        
            <div class="page-content col-md-9">

    <article class="hentry" role="article">

      <!-- 日志内容 -->
      
  <header class="page-header">
    

    
    <h1 class="entry-title">
        Git 笔记 - 基础篇
        
    </h1>
    


    
      <div class="meta text-muted text-uppercase">
        <div class="seperator"></div>
        
        

        <!-- disqus comments -->
        

        <!-- duoshuo comments -->
         
          <a class="comments" href="#comments"
             data-thread-key="/Technology/2014/05/28/git-note-basic/">
             <i class="fa fa-comment">
                <span class="ds-thread-count" data-thread-key="/Technology/2014/05/28/git-note-basic/"></span>
             </i>
            </a>
            
        <div class="date">
          












<time datetime="2014-05-28T09:49:44+08:00" pubdate data-updated="true">May 28<span>th</span>, 2014</time>
        </div>
           

         
      </div>
    
    
  </header>



<!-- 添加索引 -->
<div class="content_indexer">
  <h2 class="indexer-title">Catalog</h2>
  <div class="indexer-body">
      <ol style="margin-left: -1.7em;"><li style="list-style:inherit;"><a href="#id-78a561704dfff2bf2f0d24f7bd9be4cb">Git 简介</a><ul style="margin-left: -1.5em;"><li style="list-style:inherit;"><a href="#id-3e7b142b8700edcd8c5285b22def300f">参考书籍</a></li> <li style="list-style:inherit;"><a href="#id-e2fea905391d5b1ab96c323b6f21d878">关于版本控制</a></li> <li style="list-style:inherit;"><a href="#id-8dc9ef4b1ab694d84939eae31f49f479">版本控制系统的类型</a></li></ul></li><li style="list-style:inherit;"><a href="#id-3f03f25b5b94ab9071901ab974bd96e2">Git 基础</a><ul style="margin-left: -1.5em;"><li style="list-style:inherit;"><a href="#id-499b07a4acfe7ece80c4108d2c3c9617">获得Git仓库</a></li> <li style="list-style:inherit;"><a href="#id-fda7ee1345e8175acadb8d0436fad6ee">向Git仓库记录改变</a></li> <li style="list-style:inherit;"><a href="#id-dfe9052ec6148b3fefd782ed2d5f53f9">查看提交历史</a></li> <li style="list-style:inherit;"><a href="#id-3fa4e3ade54004aa3d6be49c69e34c18">撤销操作</a></li> <li style="list-style:inherit;"><a href="#id-8242a50c558818d68fdd4a6bbb179920">远程仓库的使用</a></li> <li style="list-style:inherit;"><a href="#id-14d342362f66aa86e2aa1c1e11aa1204">标签</a></li> <li style="list-style:inherit;"><a href="#id-cb08bb947be94c56d4d4e40a99e55e64">技巧和窍门</a></li></ul></li></ol>
  </div>
</div>

<!-- 添加Tag -->
<div class="article_tag">
      <i class="fa fa-bookmark"></i>
      
      
           
            <a href="http://lzteng.com/blog/tags/index.html#Note-ref">Note </a>
            
           
            <a href="http://lzteng.com/blog/tags/index.html#Git-ref">Git </a>
            
          
      
      
 </div>


  <div class="entry-content clearfix"><h2 id="id-78a561704dfff2bf2f0d24f7bd9be4cb">1 Git 简介</h2>

<h3 id="id-3e7b142b8700edcd8c5285b22def300f">1.1 参考书籍</h3>

<ul>
<li><strong><a href="http://git-scm.com/book">Pro Git</a></strong> &ndash;  <a href="http://git-scm.com/book/zh">在线中文版</a></li>
<li><strong><a href="http://www-cs-students.stanford.edu/~blynn/gitmagic/intl/zh_cn/index.html">Git Magic</a></strong></li>
</ul>


<h3 id="id-e2fea905391d5b1ab96c323b6f21d878">1.2 关于版本控制</h3>

<p><code>版本控制系统</code> (Version Control System, VCS)是一个能够多次记录一个或多个文件改变的系统，帮助使用者在之后回溯到特地的版本。它具有以下优点：</p>

<ul>
<li>将文件返回到之前的状态</li>
<li>将整个项目返回之前的状态</li>
<li>查看哪个用户的修改导致项目报错，或在什么时候提出了问题等</li>
<li>通常意味着你能够找回失去的文件</li>
</ul>


<!-- more -->


<h3 id="id-8dc9ef4b1ab694d84939eae31f49f479">1.3 版本控制系统的类型</h3>

<h4 id="id-c6abd7d6b25cd30de3fc09482293de5b">1.3.1 本地版本控制系统 (Local Version Control Systems)</h4>

<p>在以往的方式中，指手动的复制文件到另外一个目录中，或者再聪明点的方法，让该目录使用以时间标记来区分不同时间保存的文件版本。</p>

<p>为了解决手动复制文件带来的问题，程序员通过开发简单的数据库来记录所有文件的改变，如下图所示。</p>

<p><img src="/images/blog/2014/05/140528102131.png" alt="image" /></p>

<p><strong>优点：</strong></p>

<ul>
<li>本地存储操作方便</li>
<li>不需要复杂的配置</li>
</ul>


<p><strong>缺点：</strong></p>

<ul>
<li>不利于使用<strong>不同系统</strong>的开发者相互协作开发</li>
<li>本地存储中由于硬盘故障带来的<strong>数据容易丢失</strong></li>
</ul>


<h4 id="id-0e375866a7a2251f84330a650112bfb5">1.3.2 集中版本控制系统 (Centralized Version Control Systems)</h4>

<p>指具有一个单一的服务器包含所有版本的文件，支持多客户端从该中心取出最新文件或者提交更新。很长时间以来，这已经成为版本控制的标准做法。</p>

<p><img src="/images/blog/2014/05/140528104049.png" alt="image" /></p>

<p><strong>优点：</strong></p>

<ul>
<li>能够知道项目上的其他用户在做什么</li>
<li>管理员能够很好的<strong>分配权限</strong></li>
<li>比本地版本控制系统<strong>更容易管理</strong></li>
</ul>


<p><strong>缺点：</strong></p>

<ul>
<li><strong>单点故障</strong>。在服务器故障期间，任何人都不能协作开发或者保存文件。</li>
<li>服务器的<strong>硬盘故障</strong>，将导致未备份的数据丢失</li>
<li>将整个项目的内容保存在单一位置，会面临丢失所有数据的风险</li>
</ul>


<h4 id="id-6246b21116fcbef6033c453f4d3c0bfc">1.3.3 分布式版本控制系统 (Distributed Version Control Systems)</h4>

<p>客户端并不只是检出文件最新的快照，而是整个资源库的镜像。</p>

<p><img src="/images/blog/2014/05/140528105624.png" alt="image" /></p>

<p><strong>优点：</strong></p>

<ul>
<li>当服务器挂掉时，还可以进行本地提交，并在之后同步存储到服务器</li>
<li>每一个本地镜像都是所有数据的完整备份</li>
<li>可以指定和若干不同的远端代码仓库进行交互</li>
<li>可以在同一个项目中，分别和不同工作小组的人相互协作</li>
</ul>


<p><strong>缺点：</strong></p>

<ul>
<li>(待补充&hellip;)</li>
</ul>


<h2 id="id-3f03f25b5b94ab9071901ab974bd96e2">2 Git 基础</h2>

<p>了解什么是Git及其工作原理，对将来的使用是很有帮助的。即使接口相似，Git在存储信息的方式上和其他系统是不同的，理解这些不同将避免使用过程中带来的困惑。这些不同包括：</p>

<ul>
<li><strong>直接记录<code>快照</code>，而不是差异比较:</strong> 其他系统只关心文件内容的改变，而Git更像是将变化的文件快照后，保存在微型的文件系统中。出于性能考虑，Git不会再次存储未改变的文件，而只是对上一次保存的快照做一个链接。</li>
<li><strong>几乎所有操作都是<code>本地执行</code>:</strong>由于Git在磁盘上保存有所有当前项目的历史更新，因此绝大部分操作只需要访问本地文件。能够提交本地，而SVN等工具却不支持。</li>
<li><strong>时刻保持<code>数据完整性</code>:</strong>Git在保存数据之前，所有数据都要进行内容的<code>校验和（checksum）</code>计算(使用<strong>SHA–1 hash</strong>)。Git不是使用文件名记录数据，而是通过记录在数据库中地址化的文件哈希值。</li>
<li><strong>多操作仅<code>添加数据</code>:</strong>常用的 Git 操作大多仅仅是把数据添加到数据库。一旦提交快照之后就完全不用担心丢失数据。</li>
<li><strong>文件的<code>三种状态</code>:</strong>已提交（committed），已修改（modified）和已暂存（staged）。已提交表示该文件已经被安全地保存在本地数据库中了；已修改表示修改了某个文件，但还没有提交保存；已暂存表示把已修改的文件放在下次提交时要保存的清单中。</li>
</ul>


<h3 id="id-499b07a4acfe7ece80c4108d2c3c9617">2.1 获得Git仓库</h3>

<p>主要有两种方式：<strong>使用已存在仓库</strong> 和 <strong>从另一个服务器克隆仓库</strong></p>

<h4 id="id-b678961869d7ae7390d18491aa49c75c">2.1.1 使用已存在仓库</h4>

<p>使用Git命令</p>

<pre><code>$ git init
</code></pre>

<p>该命令完成以下内容：</p>

<ul>
<li>在当前目录<strong>创建子目录(.git）</strong>,该目录记录所有Git仓库结构必要的文件</li>
<li>使用该命令后，你的项目中的<strong>所有文件并未被追踪</strong></li>
</ul>


<h4 id="id-ac4a7d5283c3ac85e16fd3d622afdac7">2.1.2 克隆仓库</h4>

<p>使用命令</p>

<pre><code>$ git clone
</code></pre>

<p>需要注意，与奇特VCS不同，clone不同于checkout。</p>

<ul>
<li>clone:保存服务器中有的所有数据，即使未联网，也能够完成之前版本的回滚</li>
<li>checkout:只获取当前版本数据，查看历史版本信息需要联网</li>
</ul>


<p>Clone命令的使用举例：</p>

<pre><code># 克隆一个远程服务器仓库
$ git clone git://github.com/schacon/grit.git
# 克隆的仓库将保存在mygrit文件夹中 - 相当于为克隆仓库取别名
$ git clone git://github.com/schacon/grit.git mygrit
</code></pre>

<p>支持的传输协议包括：<code>git://</code> 、 <code>http(s)://</code> 或 <code>user@server:/path.git</code></p>

<h3 id="id-fda7ee1345e8175acadb8d0436fad6ee">2.2 向Git仓库记录改变</h3>

<p>每一个在你的工作空间的文件都处在<strong>已追踪(Tracked)</strong>或<strong>未追踪(Untracked)</strong>状态。</p>

<ul>
<li><strong>已追踪(Tracked):</strong>指被纳入版本管理的文件，工作一段时间后，它的状态可能是<em>未更新</em>，<em>已修改</em>或者<em>已暂存</em>。</li>
<li><strong>未追踪(Untracked):</strong>所有其他文件都属于未跟踪文件，既没有上次更新时的快照，也不在当前的暂存区域。</li>
</ul>


<p>文件的状态周期图如下所示。</p>

<p><img src="/images/blog/2014/05/140529082705.png" alt="image" /></p>

<h4 id="id-d358ce2ae8ac3a64ca2dfb8d48fb6b45">2.2.1 查看文件状态</h4>

<p>查看文件状态：</p>

<pre><code># 输入命令
$ git status
# 输出结果
On branch master    #显示当前分支
nothing to commit, working directory clean   #当前状态信息
</code></pre>

<p>使用<code>git status</code>获得的状态信息包括：</p>

<ul>
<li><strong>nothing to commit, working directory clean:</strong> 表示在当前工作环境，没有已追踪的文件是被修改的</li>
<li><strong>Untracked files:</strong> 查看未被追踪的文件</li>
<li><strong>Changes to be committed:</strong> 执行git add命令后，文件被暂存</li>
<li><strong>Changes not staged for commit:</strong>表示已经被追踪的文件被修改，并且还未被暂存。执行git add暂存文件后，又对该文件修改会出现该情况。此时如果commit，将会提交暂存数据，而不是已修改数据，需要执行git add重新暂存。</li>
</ul>


<h4 id="id-65f2303afcc039c6d97b1bea5588eb63">2.2.2 追踪新的文件和暂存文件</h4>

<p>追踪文件的改变可以使用<code>git add</code>命令：</p>

<pre><code># 添加当前工作环境中名为README的未追踪文件
$ git add README
</code></pre>

<h4 id="id-50b6a996b63b0070ff54dbf4397fe456">2.2.3 忽略文件</h4>

<p>忽略不想追踪的文件，可以通过使用<code>.gitignore</code>文件，该文件包含以下内容：</p>

<pre><code># 使用cat在命令行输出.gitignore文件中的内容
$ cat .gitignore

# .gitignore文件内容输出
*.[oa]      #忽视所有以.o或.a为后缀结尾的文件
*~          #忽视文本编辑软件(例如Emacs)的暂存文件
!lib.a      #前面通过.[oa]忽略所有*.a文件，这里例外lib.a
/TODO       #忽略根目录的TODO文件，注意不是某个子目录的TODO文件
build/      #忽略所有build目录下的文件
doc/*.txt   #忽略所有doc文件夹下的*.txt文件，注意不包括doc的子目录中的文件
doc/**/*.txt    #忽略所有doc文件夹下的*.txt文件，包括所有子目录
</code></pre>

<h4 id="id-0f53cafda92c946ac947ee5438b9f35d">2.2.4 查看暂存和为暂存文件的改变内容</h4>

<p>使用<code>git diff</code>命令可以查看文件的改变内容</p>

<pre><code>$ git diff  #比较已修改未暂存文件和已暂存文件

$ git diff --cached     #比较已暂存文件和最近一次提交文件
$ git diff --staged     #同上，相比cached更容易记忆
</code></pre>

<p>如果修改的文件已暂存，意味着<code>git diff</code>命令不会有任何输出。通过<code>git status</code>查看当前文件的状态</p>

<h4 id="id-2f1b7759157cc0c1048fca0da6ae0d4f">2.2.5 提交改变</h4>

<p>提交可以使用命令<code>git commit</code>。需要注意的是，commit <strong>只提交已暂存的文件</strong> ，所有新建或修改过却没有执行<code>git add</code>命令的都不包含在本次提交中。</p>

<p>因此最好先执行<code>git status</code>查看文件是否都已经被暂存，然后再执行该命令<code>git commit</code>。</p>

<pre><code>#执行该命令会打开文本编辑器以便输入本次提交的说明。
$ git commit

#使用-m参数，直接输入提交说明
$ git commit -m "Story 182: Fix benchmarks for speed"
#输出以下内容
[master 463dc4f] Story 182: Fix benchmarks for speed
 2 files changed, 3 insertions(+)
 create mode 100644 README
</code></pre>

<p>每次执行提交操作，都是对项目做一次快照，以后可以回到这个这个状态，或者进行比较。</p>

<h4 id="id-7e7d5c325a472f90e558becd4bd7dc4b">2.2.6 跳过暂存区域</h4>

<p>如果觉得每次提交前都需要暂存很麻烦，可以通过在提交时添加<code>-a
</code>标记，Git会在提交前自动暂存所有已追踪文件，让你跳过执行<code>git add</code>步骤。</p>

<pre><code>$ git commit -a -m 'added new benchmarks'
</code></pre>

<h4 id="id-53518c22f5529ff13cb3af383ed407c4">2.2.7 删除文件</h4>

<p>从Git中删除文件，需要将该文件从被追踪文件集合(更精确的说是暂存区域)中移除。</p>

<p>如果直接执行<code>rm</code>命令删除命令，并不能将文件从暂存空间移除。接着执行<code>git rm</code>命令，将文件从暂存空间移除。</p>

<p>如果删除之前修改过并且已经放到暂存区域(还没有提交)的话，则必须要用强制删除选项 <code>-f</code>（即 force 的首字母），以防误删除文件后丢失修改的内容。</p>

<p>如果想保持文件在磁盘中，但是又想删除该文件在暂存空间的记录。这种情况的典型例子是你不小心暂存了想要放入<code>.gitignore</code>中的文件。可以通过使用<code>--cached</code>解决。</p>

<pre><code>#从暂存空间移除readme.txt文件，但在磁盘保留该文件
$ git rm --cached readme.txt
</code></pre>

<h4 id="id-fe818fec370e465362a3518d6d900b62">2.2.8 移动文件</h4>

<p>不像其他的 VCS 系统，Git 并不跟踪文件移动操作。如果在 Git 中重命名了某个文件，仓库中存储的元数据并不会体现出这是一次改名操作。</p>

<p>移动过文件使用命令<code>git mv</code></p>

<pre><code>$ git mv file_from file_to

# 举例
$ git mv README.txt README
$ git status
On branch master
Changes to be committed:
(use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.txt -&gt; README

# 举例中的代码相当于
$ mv README.txt README
$ git rm README.txt
$ git add README
</code></pre>

<h3 id="id-dfe9052ec6148b3fefd782ed2d5f53f9">2.3 查看提交历史</h3>

<p>使用<code>git log</code>命令</p>

<pre><code>$ git log
</code></pre>

<p>未带参数的<code>git log</code>命令，会以逆时间顺序列出项目库的提交列表。</p>

<p><code>git log</code>的参数</p>

<ul>
<li><code>-p</code>: 显示每次提交的内容差异</li>
<li><code>-&lt;n&gt;</code>: 只显示最新的n条</li>
<li><code>-p --word-diff</code>: <code>--word-diff</code>接在<code>-p</code>之后，使用文字描述差异</li>
<li><code>-U1</code>: 设置上下文只显示一行</li>
<li><code>--stat</code>: 仅显示简要的增改行数统计</li>
<li><code>--pretty</code>: 可以指定使用完全不同于默认格式的方式展示提交历史</li>
</ul>


<p><code>--pretty</code>的使用</p>

<pre><code>$ git log --pretty=oneline|short|full|fuller|format`


$ git log --pretty=format:"%h - %an, %ar : %s"
ca82a6d - Scott Chacon, 11 months ago : changed the version number
085bb3b - Scott Chacon, 11 months ago : removed unnecessary test code
a11bef0 - Scott Chacon, 11 months ago : first commit
</code></pre>

<h3 id="id-3fa4e3ade54004aa3d6be49c69e34c18">2.4 撤销操作</h3>

<h4 id="id-8ffeb4785fdbc2be89c71358a3f7f62c">2.4.1 改变最近一次提交</h4>

<p>当你的一次提交中忘记添加一些文件时，可以在<code>git add</code>补充的文件后，使用<code>--amend</code>来修改最近一次提交。</p>

<pre><code>$ git commit -m 'initial commit'    #最近一次提交
$ git add forgotten_file            #添加要提交的文件
$ git commit --amend                #修改最新一次提交
</code></pre>

<p>执行<code>git commit --amend</code>后，会合并两个commit为一个commit，使用原来的提交描述<code>initial commit</code>，并添加提交文件<code>forgotten_file</code>。</p>

<h4 id="id-ac3d62ab2f6bd968cb2ae124c1d58309">2.4.2 撤销暂存文件</h4>

<p>如果不小使用<code>git add</code>命令添加文件不想提交的文件到暂存空间，可以通过<code>git reset HEAD &lt;file&gt;</code>命令来撤销。举例：</p>

<pre><code># 执行撤销操作之前
$ git add .     #添加当前目录下的所有文件到暂存空间
$ git status    #查看状态
On branch master
Changes to be committed:
(use "git reset HEAD &lt;file&gt;..." to unstage)  #操作提示

    modified:   README.txt      #暂存的文件
    modified:   benchmarks.rb

#执行撤销操作
$ git reset HEAD benchmarks.rb      #执行撤销命令
Unstaged changes after reset:       
M       benchmarks.rb               #该文件的暂存被撤销
$ git status        #查看状态
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    modified:   README.txt      #该文件仍在暂存空间

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   benchmarks.rb   #该文件的暂存已被撤销
</code></pre>

<h4 id="id-3f98e38268e0cc4ae314482f6b70561e">2.4.3 撤销文件的修改</h4>

<p>对与已修改未暂存的文件，可以通过<code>git checkout -- &lt;file&gt;</code>来撤销修改。</p>

<p>这是条危险的命令，所有对文件的修改都没有了，因为我们刚刚把之前版本的文件复制过来重写了此文件。</p>

<p>注：任何已经提交到 Git 的都可以被恢复。即便在已经删除的分支中的提交，或者用 &mdash;amend 重新改写的提交，都可以被恢复。你可能失去的数据，仅限于<strong>没有提交过的</strong>，对 Git 来说它们就像从未存在过一样。</p>

<h3 id="id-8242a50c558818d68fdd4a6bbb179920">2.5 远程仓库的使用</h3>

<h4 id="id-cd5bb3a8b26d9abad79e17ed60fa4c00">2.5.1 查看远程仓库</h4>

<p>要查看当前配置有哪些远程仓库，可以用 <code>git remote</code> 命令</p>

<p>在克隆完某个项目后，至少可以看到一个名为 <code>origin</code> 的远程库，Git 默认使用这个名字来标识你所克隆的原始仓库。</p>

<pre><code># 克隆远程仓库
$ git clone git://github.com/schacon/ticgit.git
# 进入克隆仓库的文件夹
$ cd ticgit
# 显示当前文件夹中的远程仓库
$ git remote
origin

# 使用 -v 显示远程的名称以及URL
$ git remote -v
origin  git://github.com/schacon/ticgit.git (fetch)
origin  git://github.com/schacon/ticgit.git (push)

# 如果有不止一个远程仓库，该命令会列出全部
$ cd grit
$ git remote -v
bakkdoor  git://github.com/bakkdoor/grit.git
cho45     git://github.com/cho45/grit.git
defunkt   git://github.com/defunkt/grit.git
koke      git://github.com/koke/grit.git
origin    git@github.com:mojombo/grit.git
</code></pre>

<p>注意，只有<code>origin</code>仓库使用SSH URL，因此只能对该仓库执行Push操作</p>

<h4 id="id-e1be412c37e9595b0459de27e94efcc4">2.5.2 添加远程仓库</h4>

<p>使用命令<code>git remote add [shortname] [url]</code></p>

<pre><code>$ git remote    #查看当前已有的远程仓库
origin
$ git remote add pb git://github.com/paulboone/ticgit.git   #添加远程仓库，并命名为pb
$ git remote -v     再次查看已有远程仓库
origin  git://github.com/schacon/ticgit.git
pb  git://github.com/paulboone/ticgit.git   #新添加的远程仓库
</code></pre>

<h4 id="id-b9cae0c60107c5c98643b8aa35c217c0">2.5.3 从远程仓库抓取数据</h4>

<p>从远程仓库抓取数据，可以使用<code>$ git fetch [remote-name]</code>。该命令从远程仓库抓取所有<strong>当前你没有的数据</strong>，且获得远程仓库中的<strong>所有分支</strong>，你能够在任何时候合并或者检查这些分支。</p>

<p><code>git fetch origin</code> 能够获取所有来自克隆仓库的更新数据。</p>

<p>使用<code>git pull</code>命令，自动从最初的克隆库<strong>抓取</strong>数据并<strong>合并</strong>当前工作分支。</p>

<h4 id="id-a2b77ba816a0daffd69c5a64044f329f">2.5.4 推送数据到远程仓库</h4>

<p>使用命令 <code>git push [remote-name] [branch-name]</code></p>

<pre><code>$ git push origin master
</code></pre>

<p>执行该命令，需要对目标远程仓库有写权限，并且在同一时间没有其他人执行该操作。</p>

<p>如果有人先于你执行该操作，你的操作将会被服务器拒绝。此时需要做的是抓起其他人的数据，并在合并之后提交你的更新。</p>

<h4 id="id-cfcebbfa7f698aec480c150096a0d490">2.5.5 查看远程仓库信息</h4>

<p>查看远程仓库信息使用命令<code>git remote show [remote-name]</code></p>

<pre><code>$ git remote show origin    # 查看origin远程仓库的信息
* remote origin
  URL: git@github.com:defunkt/github.git
  Remote branch merged with 'git pull' while on branch issues       # 运行 git pull 时将自动合并
    issues
  Remote branch merged with 'git pull' while on branch master
    master  # 运行 git pull 时将自动合并
  New remote branches (next fetch will store in remotes/origin)
    caching     # 还没有同步到本地的远程分支
  Stale tracking branches (use 'git remote prune')
    libwalker   # 已同步到本地的远端分支在远端服务器上已被删除
    walker2     # 同上
  Tracked remote branches
    acl
    apiv2
    dashboard2
    issues
    master
    postgres
  Local branch pushed with 'git push'   
    master:master   # 执行git push时缺省推送的分支
</code></pre>

<h4 id="id-8262b40f2eb57d98c8fc3571ecf58877">2.5.6 远程仓库的重命名和删除</h4>

<p>重命名远程参考，使用命令 <code>git remote rename from_name to_name</code></p>

<pre><code>$ git remote rename pb paul 
$ git remote
origin
paul
</code></pre>

<p>注意远程仓库的重命名会引起分支的变化</p>

<p>移除远程仓库，使用命令<code>git remote rm</code></p>

<pre><code>$ git remote rm paul
$ git remote
origin
</code></pre>

<h3 id="id-14d342362f66aa86e2aa1c1e11aa1204">2.6 标签</h3>

<h3 id="id-cb08bb947be94c56d4d4e40a99e55e64">2.7 技巧和窍门</h3>

<p class='post-footer'>版权所有 ©ZwEin | 转载请注明出处：<a href='http://lzteng.com/Technology/2014/05/28/git-note-basic/'>http://lzteng.com/Technology/2014/05/28/git-note-basic/</a></p>

</div>


 

         

      <!-- footer -->
      <footer>
        <!-- 尾部版权信息也可在/plugin/post_footer_filter.rb添加-->
        <!-- <p class='post-footer'>
        &nbsp;
          版权所有 ©ZwEin | 转载请注明出处：<a href=''></a><br/>
        &nbsp;
        </p>  -->

     


        
          <div class="sharing">
	<!-- 
	<a href="//twitter.com/share" class="twitter-share-button" data-url="http://lzteng.com/Technology/2014/05/28/git-note-basic/" data-via="zwein27" data-counturl="http://lzteng.com/Technology/2014/05/28/git-note-basic/" >Tweet</a>
	
  
	<div class="g-plusone" data-size="medium"></div>
	
  
	<div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
	 -->

 <!--  
	<div class="bdsharebuttonbox">
		<a href="#" class="bds_more" data-cmd="more"></a>
		<a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
		<a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
		<a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a>
		<a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	</div>
	<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["qzone","tsina","renren","weixin","copy"],"viewText":"分享到：","viewSize":"16"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
	 -->

	<!-- bshare -->
	<div class="bshare-custom">
	   <a title="分享到" href="http://www.bshare.cn/share" id="bshare-shareto" class="bshare-more"></a>

	   <a title="分享到新浪微博" class="bshare-sinaminiblog"></a>
	   <a title="分享到人人网" class="bshare-renren"></a>
	   <a title="分享到豆瓣" class="bshare-douban"></a>
	   <a title="分享到QQ空间" class="bshare-qzone"></a>
	   <a title="分享到微信" class="bshare-weixin"></a>
	   <a title="分享到有道笔记" class="bshare-youdaonote"></a>
	   <a title="分享到Evernote" class="bshare-evernote"></a>
	   <a title="分享到Facebook" class="bshare-facebook"></a>
	   <a title="分享到Gmail" class="bshare-gmail"></a>
	   <a title="分享到Google+" class="bshare-gplus"></a>
	   <a title="分享到Twitter" class="bshare-twitter"></a>
	   <!-- 在这里添加更多平台 -->

	   <a title="更多平台" id="bshare-more-icon" class="bshare-more"></a>
	   <span class="BSHARE_COUNT bshare-share-count">--</span>
	</div>
	<script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/buttonLite.js#uuid=<你的UUID>&style=-1"></script>
	<script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/bshareC2.js"></script>

</div>
        
        
          <ul class="meta text-muted pager">
            
            <li class="previous"><a href="/Diary/2014/02/27/parse-note/" title="Previous Post: Parse Note">&laquo; Parse Note</a></li>
            
            
            <li class="next"><a href="/Diary/2014/06/02/git-note-command/" title="Next Post: Git 笔记 - 命令篇">Git 笔记 - 命令篇 &raquo;</a></li>
            
          </ul>
        
      </footer>
    </article>

    <!-- wumii -->
    <script type="text/javascript" id="wumiiRelatedItems"></script>

    <!-- disqus comments -->
    

    <!-- duoshuo comments -->
    
      <section>
        <div id="comments" aria-live="polite"> <!-- Duoshuo Comment BEGIN -->
	  <div data-thread-key="/Technology/2014/05/28/git-note-basic/" class="ds-thread"> </div>
<!-- Duoshuo Comment END -->
</div>
      </section>
      
    
  </div>


  <!-- sidebar -->
<!--   
  <aside class="sidebar">
    
      
    
  </aside>
   -->


 
        



</div>

        </div>
      </div>
    <footer role="contentinfo"><div id="footer-wrapper">
	<div class="container">
	    



<!-- <nav id="bottom" class="navbar navbar-inverse navbar-fixed-bottom" role="navigation"> 
</nav> -->

<div class="copyright">

  <p class="text-muted credits">
    
    <small>
        <span class="credit">Copyright &copy; 2014 - ZwEin </span>,  
        <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
        <span class="credit">customized with <a href="https://github.com/mjhea0/octoplate">Octoplate</a></span>,
        <span class="credit"> all rights reserved</span>.
    </small>
    <!-- <a href="#" id="back">Back to Top</a> -->
    
      <!-- 统计 -->
    <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1000263842'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s22.cnzz.com/z_stat.php%3Fid%3D1000263842%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>

  </p>

</div>
	</div>
</div>
</footer>
    <script src="/javascripts/libs/bootstrap-3.0.0/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>




<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





    </div>


    


  
<!-- custom js code 
  <script type="text/javascript" src="/javascripts/libs/prettify/prettify.js"></script>

  <script type="text/javascript"> 
    $(document).ready(function(){
    $('pre').addClass('prettyprint linenums') 
    })
  </script>
  <script type="text/javascript"> 
    $(function() {window.prettyPrint && prettyPrint();});
    $(function() {$('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto');});
  </script>
-->
<!--
<script src="/javascripts/libs/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
-->
<!-- duoshuo -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"lzteng"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>


<script>
//导航栏添加active
$(function(){
  function stripTrailingSlash(str) {
    if(str.substr(-1) == '/') {
      return str.substr(0, str.length - 1);
    }
    return str;
  }

  var url = window.location.pathname;  
  var activePage = stripTrailingSlash(url);

  $('.nav li a').each(function(){  
    var currentPage = stripTrailingSlash($(this).attr('href'));

    if (activePage == currentPage) {
      $(this).parent().addClass('active'); 
    } 
  });
});
</script>


<!-- wumii -->
    <script type="text/javascript">
    var wumiiPermaLink = ""; //请用代码生成文章永久的链接
    var wumiiTitle = "Git 笔记 - 基础篇 "; //请用代码生成文章标题
    var wumiiTags = "NoteGit"; //请用代码生成文章标签，以英文逗号分隔，如："标签1,标签2"
    var wumiiCategories = [NoteGit]; //请用代码生成文章分类，分类名放在 JSONArray 中，如: ["分类1", "分类2"]
    var wumiiSitePrefix = "http://zwein27.github.io/";
    var wumiiParams = "&num=5&mode=3&pf=JAVASCRIPT";
  </script>
  <script type="text/javascript" src="http://widget.wumii.cn/ext/relatedItemsWidget"></script>
  <a href="http://www.wumii.com/widget/relatedItems" style="border:0;">
      <img src="http://static.wumii.cn/images/pixel.png" alt="无觅关联推荐，快速提升流量" style="border:0;padding:0;margin:0;" />
  </a>



<!-- 回到顶部特效 -->



<div class="go">
  <a title="goTop" class="top" href="#gotop"></a>
  <a title="Connect me" class="feedback" href="mailto:zwein27@gmail.com" target="_blank"></a>
  <a title="goBottom" class="bottom" href="#gobottom"></a>
</div>


<!-- prettify代码高亮 -->
  <script src="/javascripts/libs/prettify/prettify.js"></script>
  <script>
      /*需要在调用prettify.js的prettyPrint方法之前添加标签*/
        $(function() {  
          $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto');
        });
        $(function() { 
            window.prettyPrint && prettyPrint();
        });
  </script>


<!-- 为markdown的超链接加上target="_blank" -->
<script type="text/javascript">
  function addBlankTargetForLinks () {
    $('a[href^="http"]').each(function(){
        $(this).attr('target', '_blank');
    });
  }

  $(document).bind('DOMNodeInserted', function(event) {
    addBlankTargetForLinks();
  });
</script>

<!-- 新浪开发平台关注按钮 -->
<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>


<a name="gobottom"></a><!-- 回到底部 -->
  </body>
</html>
